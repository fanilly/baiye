webpackJsonp([20],{Ce2S:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAnCAYAAAB5XdqFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFBMDIwMzYzNTI3MDExRTg4QUYwRENDM0Q2MjZENTE0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjFBMDIwMzY0NTI3MDExRTg4QUYwRENDM0Q2MjZENTE0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MUEwMjAzNjE1MjcwMTFFODhBRjBEQ0MzRDYyNkQ1MTQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MUEwMjAzNjI1MjcwMTFFODhBRjBEQ0MzRDYyNkQ1MTQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7bT0FWAAAA6UlEQVR42mKcOXMmA4mAFYjrgDgLiIVI1PsOiKcBcRMQ/wYJpKWlEaWRhYF0UAHENQzkASGo3l9A3EyKRiYyLMthoByQbAY5ISqGxFYmUe9dLGbQzKHI4B4DnQATwxABQ8ahlEa9Ej0d+p8C/Xcp0Au2d9asWaNpdMDSKCN6dCDVIgMB3sEYwOqVkZjM9J4erkKv63Gl2dE0OurQ4V4zIZcSjBSoGY36UYeOOnTUoaMOHXXoqEMHZ13PSCU1o1E/6tBRh446lITiSZAeDiB27AndoaBRCiEk9kCCd/iiftEgiu0ZyByAAAMAGTIhJi3nrZIAAAAASUVORK5CYII="},ZtLn:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("3cXf"),c=a.n(i),n=a("IHPB"),s=a.n(n),o=a("rVsN"),r=a.n(o),l=a("gyMJ"),h={name:"Search",data:function(){return{showInitPage:!0,hotData:[],history:[],delIcon:a("Ce2S"),searchKeyWord:""}},methods:{handleSearch:function(){var t=this;""!=this.searchKeyWord&&""!=this.searchKeyWord.trim()&&this.saveHistory().then(function(){t.$router.replace({name:"SearchResult",params:{word:t.searchKeyWord}})})},quickSearchKeyWord:function(t){this.searchKeyWord=t,this.handleSearch()},clearHistory:function(){var t=this;this.feedback.Confirm({title:"",msg:"您确定要清空搜索历史吗？搜索历史一旦被清空将无法找回",options:[{txt:"取消",color:"#999"},{txt:"确定",color:"#0bb20c",callback:function(){localStorage.removeItem("SEARCH_KEYWORD"),t.history=[],t.feedback.Toast({msg:"清除成功"})}}]})},getHistory:function(){var t=localStorage.getItem("SEARCH_KEYWORD");t&&(this.history=JSON.parse(t))},saveHistory:function(){var t=this;return new r.a(function(e){var a=0!=t.history.length?[].concat(s()(t.history)):[];a.length>=10&&a.pop(),a.unshift(t.searchKeyWord),localStorage.setItem("SEARCH_KEYWORD",c()(a)),e()})}},mounted:function(){var t=this;this.getHistory(),Object(l.x)().then(function(e){1==e.data.code&&(t.hotData=e.data.data)})}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"container"},[a("header",{staticClass:"header-search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKeyWord,expression:"searchKeyWord"}],staticClass:"header-search-input",attrs:{type:"search",autofocus:"autofocus",placeholder:"请输入商品名称"},domProps:{value:t.searchKeyWord},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleSearch(e):null},input:function(e){e.target.composing||(t.searchKeyWord=e.target.value)}}})]),t._v(" "),a("section",{staticClass:"header-palceholder"}),t._v(" "),0!=t.hotData.length?a("div",{staticClass:"host b20"},[a("div",{staticClass:"tit1"},[t._v("热门搜索")]),t._v(" "),a("div",{staticClass:"tips"},t._l(t.hotData,function(e,i){return a("span",{key:i,on:{click:function(a){t.quickSearchKeyWord(e)}}},[t._v(t._s(e))])}))]):t._e(),t._v(" "),a("div",{staticClass:"host"},[a("div",{staticClass:"tit1"},[t._v("历史搜索\n      "),0!=t.history.length?a("div",{staticClass:"empty",on:{click:t.clearHistory}},[a("img",{attrs:{src:t.delIcon}}),t._v(" "),a("span",[t._v("清空历史记录")])]):t._e()]),t._v(" "),a("div",{staticClass:"list"},t._l(t.history,function(e,i){return a("span",{key:i,on:{click:function(a){t.quickSearchKeyWord(e)}}},[t._v(t._s(e))])}))])])},staticRenderFns:[]};var A=a("vSla")(h,d,!1,function(t){a("amlT")},"data-v-3565eb44",null);e.default=A.exports},amlT:function(t,e){}});
//# sourceMappingURL=20.a13a3f4bd0690e5276bc.js.map