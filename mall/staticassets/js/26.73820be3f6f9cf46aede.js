webpackJsonp([26],{TD73:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("gyMJ"),n=(s("efG5"),s("efG5"),{name:"UserPhoneSet",data:function(){return{onflg:!0,user_id:this.$store.state.user.userid,phone:"",codes:""}},beforeCreate:function(){},created:function(){},mounted:function(){console.log(this.userInfo)},methods:{sendPhoneCode:function(){var e=this;""==this.phone?this.feedback.Toast({msg:"手机号不能为空",timeout:1500}):11!=this.phone.length?this.feedback.Toast({msg:"手机号长度有误，请重新输入",timeout:1500}):this.onflg&&Object(o.U)({name:"bind_phone",user_id:this.user_id,mobile:this.phone}).then(function(t){console.log("发送验证码",t),1==t.data.code&&(e.onflg=!1,setTimeout(function(){this.onflg=!0},6e4))})},changePhone:function(){var e=this;""==this.phone?this.feedback.Toast({msg:"手机号不能为空",timeout:1500}):11!=this.phone.length?this.feedback.Toast({msg:"手机号长度有误，请重新输入",timeout:1500}):""==this.codes?this.feedback.Toast({msg:"验证码不能为空",timeout:1500}):Object(o.g)({code:this.codes,user_id:this.user_id,phone:this.phone}).then(function(t){console.log("修改手机号",t),1==t.data.code?(e.feedback.Toast({msg:"修改成功",timeout:1500}),setTimeout(function(){e.$router.back(-1)},1500)):e.feedback.Toast({msg:t.data.info,timeout:1500})})}},components:{}}),i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"step"},[s("div",{staticClass:"info"},[s("div",{staticClass:"fsg"},[s("div",{staticClass:"fr"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{placeholder:"请输入新手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"fsg"},[s("div",{staticClass:"fr pr"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.codes,expression:"codes"}],attrs:{placeholder:"请输入验证码",type:"number"},domProps:{value:e.codes},on:{input:function(t){t.target.composing||(e.codes=t.target.value)}}}),e._v(" "),s("div",{class:{off:!e.onflg},on:{click:e.sendPhoneCode}},[e._v("获取验证码")])])])]),e._v(" "),s("div",{staticClass:"fbottom"},[s("div",{staticClass:"submit",attrs:{formType:"submit"},on:{click:e.changePhone}},[e._v("确认")])])])])},staticRenderFns:[]};var a=s("vSla")(n,i,!1,function(e){s("vYnm")},"data-v-59474cf1",null);t.default=a.exports},vYnm:function(e,t){}});
//# sourceMappingURL=26.73820be3f6f9cf46aede.js.map