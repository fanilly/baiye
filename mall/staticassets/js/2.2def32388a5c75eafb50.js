webpackJsonp([2],{"1FJk":function(t,e){},"5a07":function(t,e){t.exports=function(t,e,n){if(t.filter)return t.filter(e,n);if(void 0===t||null===t)throw new TypeError;if("function"!=typeof e)throw new TypeError;for(var s=[],a=0;a<t.length;a++)if(i.call(t,a)){var o=t[a];e.call(n,o,a,t)&&s.push(o)}return s};var i=Object.prototype.hasOwnProperty},JRhT:function(t,e){t.exports=function(t,e){if(t.map)return t.map(e);for(var n=[],s=0;s<t.length;s++){var a=t[s];i.call(t,s)&&n.push(e(a,s,t))}return n};var i=Object.prototype.hasOwnProperty},KTwD:function(t,e){var i=!1;try{var n=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,n)}catch(t){}t.exports=i},Pkhb:function(t,e,i){"use strict";(function(t){var n=i("IHPB"),s=i.n(n),a=i("gyMJ"),o=i("UdYw"),r=i("T/Av"),l=i("Xu2r");i.n(l);e.a={name:"Settlement",props:{shopid:{require:!0}},data:function(){return{coordinateIcon:i("Z4jD"),arrowIcon:i("crFt"),totalMoney:0,carlist:null,address:null,remark:"",orderData:null,actuallyMoney:"",selectedCouponType:"",showSelectCoupon:!1,selectedCouponId:0,selectedCoupon:[],coupons:[],showSelectGife:!1,selectedGifeId:0,selectedGife:[],gifes:[]}},computed:{orderTotalMoney:function(){return this.carlist&&this.orderData?(console.log(this.actuallyMoney),this.actuallyMoney?(1*this.actuallyMoney+1*this.orderData.shipping_fee).toFixed(2):(1*this.carlist.total_price+1*this.orderData.shipping_fee).toFixed(2)):""}},watch:{},methods:{selectCouponChange:function(t){var e=this.coupons.filter(function(e){return e.name==t[0]});this.selectedCouponId=e[0].id,this.selectedCouponType=e[0].type,this.actuallyMoney=e[0].actually_money?e[0].actually_money:""},selectGifeChange:function(t){var e=this.gifes.filter(function(e){return e.name==t[0]});this.selectedGifeId=e[0].id},handleChooseAddress:function(){var t=this;this.wx.openAddress({success:function(e){Object(a.e)({user_phone:e.telNumber||"",user_name:e.userName||"",user_address:e.detailInfo||"",user_province:e.provinceName||"",user_city:e.cityName||"",user_country:e.countryName||"",zip_code:e.postalCode||"",user_id:t.$store.state.user.userid}).then(function(i){1==i.data.code?(t.address.aid=i.data.data.address_id,t.address.user_name=e.userName,t.address.user_address=e.detailInfo,t.address.user_phone=e.telNumber,t.getShippingFee()):t.feedback.Toast({msg:i.data.info,timeout:1200})})}})},handleGoPayment:function(){this.$router.push({name:"Payment",query:{totalMoney:this.totalMoney}})},handleSubmit:function(){var t=this;this.feedback.Loading.open("提交中");var e=[];this.carlist.data.forEach(function(t){e.push.apply(e,s()(t.goods.map(function(t){return{id:t.id,num:t.number,attr:t.attr_id}})))}),Object(a.W)({goods:e,shop_id:this.shopid,member:1,remark:this.remark,user_id:this.$store.state.user.userid,coupon_id:this.selectedCouponId,coupon_type:this.selectedCouponType,is_waimai:1,shipping_fee:this.orderData.shipping_fee,order_no:this.orderData.order_no,gift_id:this.selectedGifeId}).then(function(e){console.log(e),t.feedback.Loading.close(),1==e.data.code?(t.$store.commit(l.SET_PAYMENT_OPTIONS,{canUse:e.data.data.can_use,orderNo:e.data.data.order_no,totalMoney:e.data.data.total_money,orderType:"OD",kind:2}),t.$router.replace({name:"Payment"})):t.feedback.Toast({msg:e.data.info,timeout:1200})})},getCartLists:function(){var t=this;Object(a.o)({is_waimai:1,shop_id:this.shopid,user_id:this.$store.state.user.userid}).then(function(e){1==e.data.code&&(t.carlist=e.data.data,t.address&&t.getShippingFee(),t.getCoupons(),t.getGife(),console.log(t.carlist))})},getCoupons:function(){var t=this;Object(a.s)({shop_id:this.shopid,user_id:this.$store.state.user.userid,total_price:this.carlist.total_price,discounts_price:this.carlist.discounts_price}).then(function(e){1==e.data.code&&0!=e.data.data.length&&(t.coupons=e.data.data.map(function(t){return{id:t.aid,name:t.name,value:t.name,type:t.type,actually_money:t.actually_money}}),t.coupons.unshift({id:0,name:"不使用优惠券",value:"不使用优惠券",type:""})),console.log("优惠券",e)})},getGife:function(){var t=this;Object(a.u)({shop_id:this.shopid,user_id:this.$store.state.user.userid}).then(function(e){1==e.data.code&&(t.gifes=e.data.data.map(function(t){return{id:t.aid,name:t.name,value:t.name}}),t.gifes.unshift({id:0,name:"不使用赠品券",value:"不使用赠品券"})),console.log("赠品券",e)})},getShippingFee:function(){var t=this;Object(a.K)({shop_id:this.shopid,address_id:this.address.aid,order_no:"",order_price:this.carlist.total_price,remark:this.remark||"无"}).then(function(e){1==e.data.code?t.orderData=e.data.data:t.feedback.Toast({msg:e.data.info,timeout:1200}),console.log("运费",e)})}},mounted:function(){var e=this;console.log(this.wx),this.getCartLists(),Object(a.l)({uid:this.$store.state.user.userid}).then(function(t){1==t.data.code?(e.address=t.data.data[0],console.log(e.address),e.carlist&&e.getShippingFee()):e.feedback.Toast({msg:t.data.info})}),Object(a.S)().then(function(i){var n=i.data.data;e.wx.config({debug:t.isDev,appId:n.appid,timestamp:n.timestamp,nonceStr:n.nonceStr,signature:n.signature,jsApiList:["openAddress"]})})},components:{footerSubmit:r.a,Picker:o.a}}}).call(e,i("9AUj"))},R4SD:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("hIWn");var n=i("Pkhb"),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"container"},[i("header",{staticClass:"address",on:{click:function(e){return e.stopPropagation(),t.handleChooseAddress(e)}}},[i("img",{staticClass:"coordinate",attrs:{src:t.coordinateIcon}}),t._v(" "),i("div",{staticClass:"content"},[t.address?[i("h2",[t._v(t._s(t.address.user_name)+" "),i("span",[t._v(t._s(t.address.user_phone))])]),t._v(" "),i("p",[t._v(t._s(t.address.user_address))])]:i("h2",[t._v("请选择地址")])],2),t._v(" "),i("img",{staticClass:"arrow",attrs:{src:t.arrowIcon,alt:""}})]),t._v(" "),t.carlist&&t.carlist.data.length>0?i("main",{staticClass:"main"},[i("div",{staticClass:"tit1"},[t._v("\n      请仔细确认您的订单\n    ")]),t._v(" "),t._l(t.carlist.data,function(e,n){return i("div",{key:n,class:{order:!0,bn:n==t.carlist.data.length-1}},[i("div",{staticClass:"dwt JB"},[t._v(t._s(e.cate_name))]),t._v(" "),t._l(e.goods,function(e,n){return i("div",{key:n,staticClass:"item"},[i("img",{staticClass:"pic",attrs:{src:e.img_url+"?x-oss-process=image/resize,m_lfit,w_50,limit_0/auto-orient,1/quality,q_90"}}),t._v(" "),""==e.attr?i("div",{staticClass:"name"},[t._v(t._s(e.title))]):t._e(),t._v(" "),""!=e.attr?i("div",{staticClass:"nameb"},[i("span",{staticClass:"tone"},[t._v(t._s(e.title))]),t._v(" "),i("span",{staticClass:"two"},[t._v(t._s(e.attr))])]):t._e(),t._v(" "),i("div",{staticClass:"num"},[t._v("×"+t._s(e.number))]),t._v(" "),i("div",{staticClass:"price"},[t._v("¥\n          "),i("span",[t._v(t._s(e.price))])])])})],2)}),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"select-box",on:{click:function(e){e.stopPropagation(),t.showSelectCoupon=!0}}},[i("div",{staticClass:"lside"},[t._v("优惠券")]),t._v(" "),i("div",{class:{center:!0,"red-color":0!=t.coupons.length&&!t.selectedCoupon[0]}},[t._v(t._s(0==t.coupons.length?"无优惠券可用":t.selectedCoupon[0]?t.selectedCoupon[0]:"有"+(t.coupons.length-1)+"张优惠券可用"))]),t._v(" "),i("img",{attrs:{src:t.arrowIcon,alt:""}})]),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.showSelectCoupon&&t.coupons.length>=1?i("div",{staticClass:"picker-wapper"},[i("div",{staticClass:"mask",on:{click:function(e){t.showSelectCoupon=!1}}}),t._v(" "),i("div",{staticClass:"picker-box"},[i("div",{staticClass:"picker-header"},[i("span",{on:{click:function(e){t.showSelectCoupon=!1}}},[t._v("确定")])]),t._v(" "),i("picker",{staticClass:"picker",attrs:{data:t.coupons,columns:3},on:{"on-change":t.selectCouponChange},model:{value:t.selectedCoupon,callback:function(e){t.selectedCoupon=e},expression:"selectedCoupon"}})],1)]):t._e()]),t._v(" "),t.gifes.length>=1?i("div",{staticClass:"select-box",on:{click:function(e){e.stopPropagation(),t.showSelectGife=!0}}},[i("div",{staticClass:"lside"},[t._v("赠品券")]),t._v(" "),i("div",{class:{center:!0,"red-color":0!=t.gifes.length&&!t.selectedGife[0]}},[t._v(t._s(0==t.gifes.length?"无赠品券可用":t.selectedGife[0]?t.selectedGife[0]:"有"+(t.gifes.length-1)+"张赠品券可用"))]),t._v(" "),i("img",{attrs:{src:t.arrowIcon,alt:""}})]):t._e(),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.showSelectGife&&t.gifes.length>=1?i("div",{staticClass:"picker-wapper"},[i("div",{staticClass:"mask",on:{click:function(e){t.showSelectGife=!1}}}),t._v(" "),i("div",{staticClass:"picker-box"},[i("div",{staticClass:"picker-header"},[i("span",{on:{click:function(e){t.showSelectGife=!1}}},[t._v("确定")])]),t._v(" "),i("picker",{staticClass:"picker",attrs:{data:t.gifes,columns:3},on:{"on-change":t.selectGifeChange},model:{value:t.selectedGife,callback:function(e){t.selectedGife=e},expression:"selectedGife"}})],1)]):t._e()]),t._v(" "),i("div",{staticClass:"sum"},[i("div",{staticClass:"sl"},[t._v("运费")]),t._v(" "),i("div",{staticClass:"sm"}),t._v(" "),i("div",{staticClass:"sr yl"},[t._v("¥\n          "),i("span",[t._v(t._s(t.orderData?t.orderData.shipping_fee:"--"))])])]),t._v(" "),i("div",{staticClass:"sum"},[i("div",{staticClass:"sl"},[t._v("总计")]),t._v(" "),i("div",{staticClass:"sm"},[t._v("共"+t._s(t.carlist.total_num)+"个")]),t._v(" "),i("div",{staticClass:"sr yl"},[t._v("¥\n          "),i("span",[t._v(t._s(t.orderTotalMoney))])])]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],staticClass:"textarea",attrs:{placeholder:"订单备注"},domProps:{value:t.remark},on:{input:function(e){e.target.composing||(t.remark=e.target.value)}}})],2):t._e(),t._v(" "),i("footer-submit",{attrs:{"btn-txt":"提交订单"+t.orderTotalMoney},on:{handleSubmit:t.handleSubmit}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip"},[e("div",{staticClass:"lhalf"}),this._v(" "),e("div",{staticClass:"heng"}),this._v(" "),e("div",{staticClass:"rhalf"})])}]};var a=function(t){i("jvaj")},o=i("vSla")(n.a,s,!1,a,"data-v-4e5c8cc6",null);e.default=o.exports},R7kJ:function(t,e){var i=Date.now||function(){return+new Date},n={},s=1;"undefined"!=typeof window&&function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),s=Math.max(0,16-(n-t)),a=window.setTimeout(function(){e(n+s)},s);return t=n+s,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),t.exports={requestAnimationFrame:function(){if("undefined"!=typeof window){var t=window.requestAnimationFrame;return function(e,i){t(e,i)}}}(),stop:function(t){var e=null!=n[t];return e&&(n[t]=null),e},isRunning:function(t){return null!=n[t]},start:function(t,e,a,o,r,l){var c=this,u=i(),h=u,d=0,_=0,p=s++;if(l||(l=document.body),p%20==0){var m={};for(var f in n)m[f]=!0;n=m}return n[p]=!0,c.requestAnimationFrame(function s(m){var f=!0!==m,v=i();if(!n[p]||e&&!e(p))return n[p]=null,void(a&&a(60-_/((v-u)/1e3),p,!1));if(f)for(var g=Math.round((v-h)/(1e3/60))-1,y=0;y<Math.min(g,4);y++)s(!0),_++;o&&(d=(v-u)/o)>1&&(d=1);var b=r?r(d):d;!1!==t(b,v,f)&&1!==d||!f?f&&(h=v,c.requestAnimationFrame(s,l)):(n[p]=null,a&&a(60-_/((v-u)/1e3),p,1===d||null==o))},l),p}}},UdYw:function(t,e,i){"use strict";var n=i("3cXf"),s=i.n(n),a=i("hRKE"),o=i.n(a),r="object"===("undefined"==typeof window?"undefined":o()(window)),l=i("R7kJ"),c=i("lFnp"),u=c.getElement,h=c.getComputedStyle,d=c.easeOutCubic,_=c.easeInOutCubic,p=i("KTwD"),m=function(t,e){var i,n=this;for(var a in n.dpr=(i=1,r&&window.VUX_CONFIG&&window.VUX_CONFIG.$picker&&window.VUX_CONFIG.$picker.respectHtmlDataDpr&&(i=document.documentElement.getAttribute("data-dpr")||1),i),e=e||{},n.options={itemClass:"scroller-item",onSelect:function(){},defaultValue:0,data:[]},e)void 0!==e[a]&&(n.options[a]=e[a]);n.__container=u(t);var o=document.createElement("div");o.innerHTML=e.template||'\n<div class="scroller-component" data-role="component">\n  <div class="scroller-mask" data-role="mask"></div>\n  <div class="scroller-indicator" data-role="indicator"></div>\n  <div class="scroller-content" data-role="content"></div>\n</div>\n';var l=n.__component=o.querySelector("[data-role=component]"),c=n.__content=l.querySelector("[data-role=content]"),d=l.querySelector("[data-role=indicator]"),_=n.options.data,m="";_.length&&_[0].constructor===Object?_.forEach(function(t){m+='<div class="'+n.options.itemClass+'" data-value='+s()({value:encodeURI(t.value)})+">"+t.name+"</div>"}):_.forEach(function(t){m+='<div class="'+n.options.itemClass+'" data-value='+s()({value:encodeURI(t)})+">"+t+"</div>"}),c.innerHTML=m,n.__container.appendChild(l),n.__itemHeight=parseFloat(h(d,"height"),10),n.__callback=e.callback||function(t){var e=-t*n.dpr;c.style.webkitTransform="translate3d(0, "+e+"px, 0)",c.style.transform="translate3d(0, "+e+"px, 0)"};var f=l.getBoundingClientRect();n.__clientTop=f.top+l.clientTop||0,n.__setDimensions(l.clientHeight,c.offsetHeight),0===l.clientHeight&&n.__setDimensions(parseFloat(h(l,"height"),10),204),n.select(n.options.defaultValue,!1);var v=function(t){t.target.tagName.match(/input|textarea|select/i)||(t.preventDefault(),n.__doTouchStart(t,t.timeStamp))},g=function(t){n.__doTouchMove(t,t.timeStamp)},y=function(t){n.__doTouchEnd(t.timeStamp)},b=!!p&&{passive:!1},C=!!p&&{passive:!0};l.addEventListener("touchstart",v,b),l.addEventListener("mousedown",v,b),l.addEventListener("touchmove",g,C),l.addEventListener("mousemove",g,C),l.addEventListener("touchend",y,C),l.addEventListener("mouseup",y,C)},f={value:null,__prevValue:null,__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientTop:0,__clientHeight:0,__contentHeight:0,__itemHeight:0,__scrollTop:0,__minScrollTop:0,__maxScrollTop:0,__scheduledTop:0,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollTop:null,__maxDecelerationScrollTop:null,__decelerationVelocityY:null,__setDimensions:function(t,e){this.__clientHeight=t,this.__contentHeight=e;var i=this.options.data.length,n=Math.round(this.__clientHeight/this.__itemHeight);this.__minScrollTop=-this.__itemHeight*(n/2),this.__maxScrollTop=this.__minScrollTop+i*this.__itemHeight-.1},selectByIndex:function(t,e){t<0||t>this.__content.childElementCount-1||(this.__scrollTop=this.__minScrollTop+t*this.__itemHeight,this.scrollTo(this.__scrollTop,e),this.__selectItem(this.__content.children[t]))},select:function(t,e){for(var i=this.__content.children,n=0,s=i.length;n<s;n++)if(decodeURI(JSON.parse(i[n].dataset.value).value)===t)return void this.selectByIndex(n,e);this.selectByIndex(0,e)},getValue:function(){return this.value},scrollTo:function(t,e){if(e=void 0===e||e,this.__isDecelerating&&(l.stop(this.__isDecelerating),this.__isDecelerating=!1),t=Math.round((t/this.__itemHeight).toFixed(5))*this.__itemHeight,(t=Math.max(Math.min(this.__maxScrollTop,t),this.__minScrollTop))===this.__scrollTop||!e)return this.__publish(t),void this.__scrollingComplete();this.__publish(t,250)},destroy:function(){this.__component.parentNode&&this.__component.parentNode.removeChild(this.__component)},__selectItem:function(t){var e=this.options.itemClass+"-selected",i=this.__content.querySelector("."+e);i&&i.classList.remove(e),t.classList.add(e),null!==this.value&&(this.__prevValue=this.value),this.value=decodeURI(JSON.parse(t.dataset.value).value)},__scrollingComplete:function(){var t=Math.round((this.__scrollTop-this.__minScrollTop-this.__itemHeight/2)/this.__itemHeight);this.__selectItem(this.__content.children[t]),null!==this.__prevValue&&this.__prevValue!==this.value&&this.options.onSelect(this.value)},__doTouchStart:function(t,e){var i,n=t.touches,s=t.touches?t.touches[0]:t,a=!!t.touches;if(t.touches&&null==n.length)throw new Error("Invalid touch list: "+n);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);this.__interruptedAnimation=!0,this.__isDecelerating&&(l.stop(this.__isDecelerating),this.__isDecelerating=!1,this.__interruptedAnimation=!0),this.__isAnimating&&(l.stop(this.__isAnimating),this.__isAnimating=!1,this.__interruptedAnimation=!0);var o=a&&1===n.length||!a;i=o?s.pageY:Math.abs(s.pageY+n[1].pageY)/2,this.__initialTouchTop=i,this.__lastTouchTop=i,this.__lastTouchMove=e,this.__lastScale=1,this.__enableScrollY=!o,this.__isTracking=!0,this.__didDecelerationComplete=!1,this.__isDragging=!o,this.__isSingleTouch=o,this.__positions=[]},__doTouchMove:function(t,e,i){var n=t.touches,s=t.touches?t.touches[0]:t,a=!!t.touches;if(n&&null==n.length)throw new Error("Invalid touch list: "+n);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);if(this.__isTracking){var o;o=a&&2===n.length?Math.abs(s.pageY+n[1].pageY)/2:s.pageY;var r=this.__positions;if(this.__isDragging){var l=o-this.__lastTouchTop,c=this.__scrollTop;if(this.__enableScrollY){c-=l;var u=this.__minScrollTop,h=this.__maxScrollTop;(c>h||c<u)&&(c=c>h?h:u)}r.length>40&&r.splice(0,20),r.push(c,e),this.__publish(c)}else{var d=Math.abs(o-this.__initialTouchTop);this.__enableScrollY=d>=0,r.push(this.__scrollTop,e),this.__isDragging=this.__enableScrollY&&d>=5,this.__isDragging&&(this.__interruptedAnimation=!1)}this.__lastTouchTop=o,this.__lastTouchMove=e,this.__lastScale=i}},__doTouchEnd:function(t){if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);if(this.__isTracking){if(this.__isTracking=!1,this.__isDragging&&(this.__isDragging=!1,this.__isSingleTouch&&t-this.__lastTouchMove<=100)){for(var e=this.__positions,i=e.length-1,n=i,s=i;s>0&&e[s]>this.__lastTouchMove-100;s-=2)n=s;if(n!==i){var a=e[i]-e[n],o=this.__scrollTop-e[n-1];this.__decelerationVelocityY=o/a*(1e3/60);Math.abs(this.__decelerationVelocityY)>4&&this.__startDeceleration(t)}}this.__isDecelerating||this.scrollTo(this.__scrollTop),this.__positions.length=0}},__publish:function(t,e){var i=this,n=i.__isAnimating;if(n&&(l.stop(n),i.__isAnimating=!1),e){i.__scheduledTop=t;var s=i.__scrollTop,a=t-s;i.__isAnimating=l.start(function(t,e,n){i.__scrollTop=s+a*t,i.__callback&&i.__callback(i.__scrollTop)},function(t){return i.__isAnimating===t},function(t,e,n){e===i.__isAnimating&&(i.__isAnimating=!1),(i.__didDecelerationComplete||n)&&i.__scrollingComplete()},e,n?d:_)}else i.__scheduledTop=i.__scrollTop=t,i.__callback&&i.__callback(t)},__startDeceleration:function(t){var e=this;e.__minDecelerationScrollTop=e.__minScrollTop,e.__maxDecelerationScrollTop=e.__maxScrollTop;e.__isDecelerating=l.start(function(t,i,n){e.__stepThroughDeceleration(n)},function(){var t=Math.abs(e.__decelerationVelocityY)>=.5;return t||(e.__didDecelerationComplete=!0),t},function(t,i,n){e.__isDecelerating=!1,e.__scrollTop<=e.__minScrollTop||e.__scrollTop>=e.__maxScrollTop?e.scrollTo(e.__scrollTop):e.__didDecelerationComplete&&e.__scrollingComplete()})},__stepThroughDeceleration:function(t){var e=this.__scrollTop+this.__decelerationVelocityY,i=Math.max(Math.min(this.__maxDecelerationScrollTop,e),this.__minDecelerationScrollTop);i!==e&&(e=i,this.__decelerationVelocityY=0),Math.abs(this.__decelerationVelocityY)<=1?Math.abs(e%this.__itemHeight)<1&&(this.__decelerationVelocityY=0):this.__decelerationVelocityY*=.95,this.__publish(e)}};for(var v in f)m.prototype[v]=f[v];var g=m,y=(Number,String,String,String,String,String,{name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){var t={"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction};return t}}}),b={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vux-flexbox",class:{"vux-flex-col":"vertical"===this.orient,"vux-flex-row":"horizontal"===this.orient},style:this.styles},[this._t("default")],2)},staticRenderFns:[]};var C=i("vSla")(y,b,!1,function(t){i("jw9d")},null,null).exports,T=(Number,String,Number,String,["-moz-box-","-webkit-box-",""]),w={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(t){return"number"==typeof t?t<1?t:t/12:"string"==typeof t?t.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var t={},e="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(t[e]=this.$parent.gutter+"px"),this.span)for(var i=0;i<T.length;i++)t[T[i]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(t.order=this.order),t}},data:function(){return{bodyWidth:0}}},S={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vux-flexbox-item",style:this.style},[this._t("default")],2)},staticRenderFns:[]},k=i("vSla")(w,S,!1,null,null,null).exports,x=i("AA3o"),A=i.n(x),D=i("xSur"),I=i.n(D),M=i("5a07"),E=i.n(M),j=function(){function t(e,i,n){A()(this,t),this.data=e,this.count=i,n&&(this.fixedColumns=n)}return I()(t,[{key:"getChildren",value:function(t){return E()(this.data,function(e){return e.parent===t})}},{key:"getFirstColumn",value:function(){return E()(this.data,function(t){return!t.parent||0===t.parent||"0"===t.parent})}},{key:"getPure",value:function(t){return JSON.parse(s()(t))}},{key:"getColumns",value:function(t){var e=this;t.length>0&&(this.getPure(this.data).filter(function(i){return e.getPure(t).indexOf(i.value)>-1}).length<this.getPure(t).length&&(t=[]));for(var i=[],n=this.fixedColumns||8,s=0;s<n;s++)if(0===s)i.push(this.getFirstColumn());else if(t[s])i.push(this.getChildren(t[s-1]));else{if(void 0===i[s-1][0])break;var a=i[s-1][0].value;i.push(this.getChildren(a))}var o=i.filter(function(t){return t.length>0});return this.count=o.length,o}}]),t}(),V=i("JRhT"),F=i.n(V),O=i("qZvt"),N=i.n(O),G=function(t,e,i){if(t&&!e.length)return"";i||(i=" ");var n=F()(t,function(t,i){return e.length&&"[object Array]"===Object.prototype.toString.call(e[0])?N()(e[i],function(e){return e.value===t}):N()(e,function(e){return e.value===t})});return n=n.filter(function(t){return void 0!==t}),F()(n,function(t){return t.name}).join(i).replace("--","")},R=(Array,Number,Number,Array,String,Array,{name:"picker",components:{Flexbox:C,FlexboxItem:k},created:function(){if(0!==this.columns){var t=this.columns;this.store=new j(this.data,t,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.value)}},mounted:function(){var t=this;this.uuid=Math.random().toString(36).substring(3,8),this.$nextTick(function(){t.render(t.currentData,t.currentValue)})},props:{data:Array,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:Array,itemClass:{type:String,default:"scroller-item"},columnWidth:Array},methods:{getNameValues:function(){return G(this.currentValue,this.data)},getId:function(t){return"#vux-picker-"+this.uuid+"-"+t},render:function(t,e){this.count=this.currentData.length;var i=this;if(t&&t.length){var n=this.currentData.length;if(e.length<n)for(var s=0;s<n;s++)this.$set(i.currentValue,s,t[s][0].value||t[s][0]);for(var a=function(n){if(!document.querySelector(i.getId(n)))return{v:void 0};i.scroller[n]&&i.scroller[n].destroy(),i.scroller[n]=new g(i.getId(n),{data:t[n],defaultValue:e[n]||t[n][0].value,itemClass:i.itemClass,onSelect:function(t){i.$set(i.currentValue,n,t),(!this.columns||this.columns&&i.getValue().length===i.store.count)&&i.$nextTick(function(){i.$emit("on-change",i.getValue())}),0!==i.columns&&i.renderChain(n+1)}}),i.currentValue&&i.scroller[n].select(e[n])},r=0;r<t.length;r++){var l=a(r);if("object"===(void 0===l?"undefined":o()(l)))return l.v}}},renderChain:function(t){if(this.columns&&!(t>this.count-1)){var e=this,i=this.getId(t);this.scroller[t].destroy();var n=this.store.getChildren(e.getValue()[t-1]);this.scroller[t]=new g(i,{data:n,itemClass:e.item_class,onSelect:function(i){e.$set(e.currentValue,t,i),e.$nextTick(function(){e.$emit("on-change",e.getValue())}),e.renderChain(t+1)}}),n.length?(this.$set(this.currentValue,t,n[0].value),this.renderChain(t+1)):this.$set(this.currentValue,t,null)}},getValue:function(){for(var t=[],e=0;e<this.currentData.length;e++){if(!this.scroller[e])return[];t.push(this.scroller[e].value)}return t},emitValueChange:function(t){(!this.columns||this.columns&&t.length===this.store.count)&&this.$emit("on-change",t)}},data:function(){return{scroller:[],count:0,uuid:"",currentData:this.data,currentValue:this.value}},watch:{value:function(t){s()(t)!==s()(this.currentValue)&&(this.currentValue=t)},currentValue:function(t,e){if(this.$emit("input",t),0!==this.columns)t.length>0&&s()(t)!==s()(e)&&(this.currentData=this.store.getColumns(t),this.$nextTick(function(){this.render(this.currentData,t)}));else if(t.length)for(var i=0;i<t.length;i++)this.scroller[i]&&this.scroller[i].value!==t[i]&&this.scroller[i].select(t[i]);else this.render(this.currentData,[])},data:function(t){s()(t)!==s()(this.currentData)&&(this.currentData=t)},currentData:function(t){var e=this;if("[object Array]"===Object.prototype.toString.call(t[0]))this.$nextTick(function(){e.render(t,e.currentValue),e.$nextTick(function(){e.emitValueChange(e.getValue()),s()(e.getValue())!==s()(e.currentValue)&&(!e.columns||e.columns&&e.getValue().length===e.store.count)&&(e.currentValue=e.getValue())})});else if(0!==this.columns){if(!t.length)return;var i=this.columns;this.store=new j(t,i,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.currentValue)}}},beforeDestroy:function(){for(var t=0;t<this.count;t++)this.scroller[t]&&this.scroller[t].destroy(),this.scroller[t]=null}}),H={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-picker"},[i("flexbox",{attrs:{gutter:0}},t._l(t.currentData,function(e,n){return i("flexbox-item",{key:n,staticStyle:{"margin-left":"0"},attrs:{span:t.columnWidth&&t.columnWidth[n]}},[i("div",{staticClass:"vux-picker-item",attrs:{id:"vux-picker-"+t.uuid+"-"+n}})])}))],1)},staticRenderFns:[]};var J=i("vSla")(R,H,!1,function(t){i("1FJk")},null,null);e.a=J.exports},Z4jD:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAmCAYAAAClI5npAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5Mjg2RjI0NkJCRjExRTg4QkUyRkFEMzNBQTU0QUZBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk5Mjg2RjI1NkJCRjExRTg4QkUyRkFEMzNBQTU0QUZBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTkyODZGMjI2QkJGMTFFODhCRTJGQUQzM0FBNTRBRkEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTkyODZGMjM2QkJGMTFFODhCRTJGQUQzM0FBNTRBRkEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz57qI5lAAAEQUlEQVR42qyYe4hVVRSH7z1zuY06eZWYFEJMjfCRQ4iPTJ0ZZnBKBprwMWIkjpagpEgoMfgARVSSIiIiCkUpx5QZxsS3olgmDjZBoJT5QKPHH6npWOCD0em34jtyOOxzPWduCz73uZ591lp777XXXnvSJUWPpWJKb1ErKsXz4mmR412HuCJ+EMfFPnErjtJ0DAeGikYxUxTHdPaO2CneFT9114ESsUEsEBlxX3zN6NrEJXGDvn3FEPECs1QhikSn+JQB/JPEgRGiVTyLks/ERvFLzBkYKJYFnD8vpomzcRyYJHYzKlvT2a4PY8pz4gtixmarTpzI58BIOlhwNWP8bqowMQOfi3qC1QZ4xn/pBTqa0a9ot4tZ/4PxFDpeE03ottnt43LgPTFYfCfmEnQuqSKwLqD8Ls/2f9UR35iueeK0GCTeDy/BKNGOsjIUurbjJ+SBfGJ5YKE453j3DNNvRseaTX8Glpsz4sMI4xV4b8av0b+MvFDM83LeVdK3wqHnIjbS9P9vBp5U+7t4IAaIPx0jb2P9WpnKjojRW5/NbLkO8kJ4Jszeryz/U/bPK+zVgw7j5ukWFO8S0/MY91PyDBzN8W061Mds7Mfmq15gqg44FFYzCpvaBtEVI+q7COKrfOsKzIP+0nqsX4roD0s97UdxDxfE+n4Q0hGUdj9Reax7itPMteVS7N2ksjekIyiXaQdYEHZycGQce9+2ZZZIT5qUsnxzj20XFA9bDzyOzlTEUVtIJszmeefbumMO/BXYHmH5I7AVk8pg2t8c70ppr3sclf4RHJbTtHXdcKCW9qTj3UjaC+bAKX6UOzo20S6iJEtSvr3N8zbHe99WmzlwiB8zHEnjMFmwNCKpOIsc+pby7RHH++k8H/KYoisUmbURScUy3FTREihEo1JxM307SNtdjqUZhM1vi7Jexjc0RQwXm0IfXWOZplHZvMmWvUmVY8/DxBviSzFa/E2Kbw8Zt+2+Q/QXq22G/OPYtsWPeNZINes6jreQXvNJG7PmOo7fQfdlgv52sCSrIUdbgnhJHItY38msYTVZ9B6n2wmW6EjEmVGF/gzLcMBVE64VK1m/msA2LFTGEtAWI+vFiodrQgwEqxmrWsZwiHzD6AqRFxl5jm29OJyTw1E/h2DK8eHEAoxPZKpzBN+c8PJ4EQXkbOr5x3GivBvGyzHem2T0uqvQ9fJUsRbJW0UvFFUlMF7FNyXoaIiqssMxEF6OPVa3iXFkynbuhPmkhvqhJzllPvVmKqkDvhNWWPQT43Hie6pbl7zM5aYH94QFjyrjHuWAL1ZEPkFE13NnPO9IsbtIah+Lt+LUkHEd8AtJu1JNIBHZBePnwHHdQuVjdf+SmAVsIgd8J0q4YE7ljw/D2WJZrndLkyhMJ/gTTVA2cGZ08jtDjm9MqijpDPhyFKOVbOV1/lUrqWQKyHKrAjOwprtK/hVgAIW8+ZC463b0AAAAAElFTkSuQmCC"},hIWn:function(t,e,i){"use strict";(function(t){var e=i("IHPB"),n=(i.n(e),i("gyMJ"),i("UdYw")),s=i("T/Av"),a=i("Xu2r");i.n(a),s.a,n.a}).call(e,i("9AUj"))},jvaj:function(t,e){},jw9d:function(t,e){},lFnp:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getElement=function(t){return"string"==typeof t?document.querySelector(t):t},e.getComputedStyle=function(t,e){return window.getComputedStyle(t)[e]||""},e.easeOutCubic=function(t){return Math.pow(t-1,3)+1},e.easeInOutCubic=function(t){if((t/=.5)<1)return.5*Math.pow(t,3);return.5*(Math.pow(t-2,3)+2)}},qZvt:function(t,e,i){"use strict";t.exports=function(t,e,i){if("function"==typeof Array.prototype.find)return t.find(e,i);i=i||this;var n,s=t.length;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(n=0;n<s;n++)if(e.call(i,t[n],n,t))return t[n]}}});
//# sourceMappingURL=2.2def32388a5c75eafb50.js.map