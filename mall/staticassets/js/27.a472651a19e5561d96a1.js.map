{"version":3,"sources":["webpack:///./src/pages/WealthPassword/WealthPassword.vue","webpack:///./src/pages/WealthPassword/WealthPassword.vue?27bd","webpack:///./src/pages/WealthPassword/WealthPassword.vue?1659"],"names":["WealthPassword_WealthPassword","__webpack_require__","name","data","routeData","is_password","shopPhone","time","beginning","code","old_password","password","confirm_password","created","this","$route","params","console","log","haspassword","mounted","checkShopSetting","methods","_this","Object","api","shop_id","shopid","then","res","phone","feedback","Confirm","title","msg","options","txt","color","callback","$router","go","submitPasswordSet","forms","_this2","Toast","info","timeout","setTimeout","back","submitPasswordChange","_this3","goSubmit","length","sendAdminCode","_this4","Loading","open","mobile","close","timer","setInterval","tempTime","clearInterval","components","pages_WealthPassword_WealthPassword","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","value","expression","attrs","type","bindinput","placeholder","disabled","domProps","on","input","$event","target","composing","_v","placeholder-style","maxlength","style","click","_s","_e","form-type","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"staticassets/js/27.a472651a19e5561d96a1.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n\r\n\r\nimport { checkShopSetting, submitPasswordChange, submitPasswordSet, sendAdminCode } from '@/api/index.js';\r\nconst wx = require('weixin-js-sdk');\r\n\r\nexport default {\r\n    name: 'WealthPassword',\r\n    data() {\r\n        return {\r\n            routeData:{},\r\n            is_password:true,\r\n            shopPhone:'',\r\n            time: 180,\r\n            beginning: false,\r\n            code:'',\r\n            old_password:'',\r\n            password:'',\r\n            confirm_password:'',\r\n        };\r\n    },\r\n    created(){\r\n        this.routeData = this.$route.params\r\n        console.log(this.routeData)\r\n        this.is_password = this.routeData.haspassword\r\n    },\r\n    mounted() {\r\n        this.checkShopSetting();\r\n    },\r\n    methods:{\r\n        //获取店铺设置\r\n        checkShopSetting(){\r\n            checkShopSetting({\r\n                shop_id:this.routeData.shopid\r\n            }).then(res=>{\r\n                console.log('查看店铺设置信息',res)\r\n                if(res.data.code==1 ){\r\n                    if( res.data.data.phone==''){\r\n                        this.feedback.Confirm({\r\n                            title: '温馨提示',\r\n                            msg: '系统检测到您的店铺信息未绑定手机号，请先绑定手机号才能（设置/修改）支付密码',\r\n                            options: [{ txt: '取消',  color: '#999',\r\n                            callback: () => {\r\n                                    this.$router.go(-1) //返回上一页\r\n                                }\r\n                            }, { txt: '确定', color: '#0bb20c',\r\n                                callback: () => {\r\n                                    //跳转到设置页\r\n                                }\r\n                            }]\r\n                        });\r\n                    }else{\r\n                        this.shopPhone = res.data.data.phone\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        //设置密码\r\n        submitPasswordSet(forms){\r\n            submitPasswordSet(forms)\r\n            .then(res=>{\r\n                console.log('设置密码',res)\r\n                this.feedback.Toast({  msg:res.data.info,  timeout:1500 });\r\n                if(res.data.code==1){\r\n                    setTimeout(()=>{\r\n                         this.$router.back(-1)\r\n                    },1500)\r\n                }\r\n            })\r\n        },\r\n        //修改密码\r\n        submitPasswordChange(forms){\r\n            submitPasswordChange(forms)\r\n            .then(res=>{\r\n                console.log('修改密码',res)\r\n                this.feedback.Toast({  msg:res.data.info,  timeout:1500 });\r\n                if(res.data.code==1){\r\n                    setTimeout(()=>{\r\n                         this.$router.back(-1)\r\n                    },1500)\r\n                }\r\n            })\r\n        },\r\n        //提交数据\r\n        goSubmit(){\r\n            if(this.code=='') this.feedback.Toast({  msg:'请输入验证码',  timeout:1500 });\r\n            else if(this.old_password=='' && this.is_password) this.feedback.Toast({  msg:'请输入旧的提现密码',  timeout:1500 });\r\n            else if(this.password=='') this.feedback.Toast({  msg:'请输入提现密码',  timeout:1500 });\r\n            else if(this.confirm_password=='') this.feedback.Toast({  msg:'请确认提现密码',  timeout:1500 });\r\n            else if(this.password.length!=6 || this.confirm_password.length!=6 ) this.feedback.Toast({  msg:'提现密码应由6位数字组成',  timeout:1500 });\r\n            else if(this.password != this.confirm_password) this.feedback.Toast({  msg:'两次输入的提现密码不一致',  timeout:1500 });\r\n            else{\r\n                var forms = {}\r\n                forms.password = this.password\r\n                forms.confirm_password = this.confirm_password\r\n                forms.code = this.code\r\n                forms.shop_id = this.routeData.shopid\r\n\r\n                if(this.is_password){\r\n                    forms.old_password = this.old_password\r\n                    this.submitPasswordChange(forms)\r\n                }else{\r\n                    forms.old_password = ''\r\n                    this.submitPasswordSet(forms)\r\n                }\r\n            }\r\n        },\r\n        //发送验证码\r\n        sendAdminCode(){\r\n            if(!this.beginning){\r\n                this.feedback.Loading.open('发送中');\r\n                sendAdminCode({\r\n                    mobile: this.shopPhone,\r\n                    name: this.is_password ? 'set_transaction_password' : 'change_transaction_password'\r\n                }).then(res=>{\r\n                    this.feedback.Loading.close()\r\n                    console.log('发送验证码',res)\r\n                    if(res.data.code==1){\r\n                        //显示倒计时\r\n                        this.beginning =  true\r\n                        \r\n                        //开始倒计时\r\n                        this.timer = setInterval(()=>{\r\n                            let tempTime = this.time;\r\n                            if (tempTime == 0) {\r\n                                //倒计时结束\r\n                                clearInterval(this.timer);\r\n                                this.beginning =  false\r\n                                return;\r\n                            }\r\n                            this.time = tempTime - 1\r\n                        }, 1000);\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    },\r\n    components: {\r\n        \r\n    }\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/WealthPassword/WealthPassword.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"input-box-wapper\"},[_c('div',{staticClass:\"input-box-type1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.shopPhone),expression:\"shopPhone\"}],attrs:{\"type\":\"number\",\"bindinput\":\"recordPhoneNumber\",\"placeholder\":\"\",\"disabled\":\"\"},domProps:{\"value\":(_vm.shopPhone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.shopPhone=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-box-type1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],attrs:{\"placeholder-style\":\"color:#ccc\",\"maxlength\":\"6\",\"type\":\"number\",\"name\":\"code\",\"placeholder\":\"验证码\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"btn\",style:({color:_vm.beginning ? '#cccccc' : '#000000'}),on:{\"click\":_vm.sendAdminCode}},[_vm._v(_vm._s(_vm.beginning ? '倒计时' + _vm.time + 's' : '发送验证码'))])])]),_vm._v(\" \"),_c('div',{staticClass:\"input-box-wapper\"},[(_vm.is_password)?_c('div',{staticClass:\"input-box-type1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.old_password),expression:\"old_password\"}],attrs:{\"placeholder-style\":\"color:#ccc\",\"type\":\"password\",\"name\":\"old_password\",\"placeholder\":\"请输入旧的提现密码\"},domProps:{\"value\":(_vm.old_password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.old_password=$event.target.value}}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"input-box-type1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"placeholder-style\":\"color:#ccc\",\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"请输入提现密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-box-type1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.confirm_password),expression:\"confirm_password\"}],attrs:{\"placeholder-style\":\"color:#ccc\",\"type\":\"password\",\"name\":\"confirm_password\",\"placeholder\":\"再次确认提现密码\"},domProps:{\"value\":(_vm.confirm_password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.confirm_password=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_c('button',{staticClass:\"btn\",attrs:{\"form-type\":\"submit\"},on:{\"click\":_vm.goSubmit}},[_vm._v(\"确认修改\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-50bbd438\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/pages/WealthPassword/WealthPassword.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50bbd438\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./WealthPassword.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./WealthPassword.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./WealthPassword.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50bbd438\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./WealthPassword.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-50bbd438\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/WealthPassword/WealthPassword.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}