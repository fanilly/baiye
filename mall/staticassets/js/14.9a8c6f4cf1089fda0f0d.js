webpackJsonp([14],{"10C6":function(t,e){},EgbY:function(t,e,s){"use strict";String,Number,Number;var o={props:{lable:{type:String,default:"选好了"},total:{type:Number},totalMoney:{type:Number}},data:function(){return{}},computed:{totalPrice:function(){return this.totalMoney.toFixed(2)}},methods:{handleClickBtn:function(){this.$emit("handleClickBtn")},initTrolleyPos:function(){this.$emit("initTrolleyPos",this.$refs.footer.offsetHeight)},handleClickTrolley:function(){this.$emit("handleClickTrolley")}},mounted:function(){this.initTrolleyPos()}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{ref:"footer",staticClass:"trolley"},[s("section",{staticClass:"trolley-icon",on:{click:t.handleClickTrolley}},[t._m(0),t._v(" "),t.total>=1?s("div",{staticClass:"corner"},[t._v(t._s(t.total))]):t._e()]),t._v(" "),s("div",{staticClass:"count"},[t._v("总计 "),s("span",[s("i",[t._v("￥")]),t._v(t._s(t.totalPrice))]),t._v(" 元")]),t._v(" "),s("div",{staticClass:"btn",on:{click:t.handleClickBtn}},[t._v(t._s(t.lable))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"iconfont icon-iconfontgouwuche"})])}]};var a=s("vSla")(o,i,!1,function(t){s("10C6")},"data-v-09a82dfd",null);e.a=a.exports},"Rv/8":function(t,e,s){"use strict";var o=s("3cXf");s.n(o)},noKb:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("gyMJ"),i=s("EgbY"),a=(s("Rv/8"),i.a,{name:"trolley",props:{shopid:{require:!0}},data:function(){return{trolleys:[],trolleysTotal:0,totalMoney:0}},methods:{handleAddGoods:function(){this.$router.go(-1)},changeCartGoodsNum:function(t,e,s,i,a){var n=this;"add"===s?this.trolleys[a].goods[i].number++:(this.trolleys[a].goods[i].number--,this.trolleys[a].goods[i].number<1&&(this.trolleys[a].goods.splice(i,1),0==this.trolleys[a].goods.length&&this.trolleys.splice(a,1))),Object(o.f)({id:t,shop_id:this.shopid,user_id:this.$store.state.user.userid,attr_id:e,is_waimai:1,change:s}).then(function(t){1!=t.data.code&&(n.feedback.Toast({msg:"网络繁忙",timeout:1200}),n.getCartLists())})},handleGoSettlement:function(){this.$router.push({name:"Settlement"})},getCartLists:function(){var t=this;Object(o.o)({is_waimai:1,shop_id:this.shopid,user_id:this.$store.state.user.userid}).then(function(e){console.log(e),1==e.data.code&&(t.choosedTotalNum=e.data.data.total_num,t.choosedTotalPrice=e.data.data.total_price,t.trolleys=e.data.data.data)})},handleClearTrolley:function(){var t=this;this.feedback.Confirm({title:"",msg:"您确定要清空购物车吗？",options:[{txt:"取消",color:"#999"},{txt:"确定",color:"#0bb20c",callback:function(){Object(o.j)({is_waimai:1,shop_id:t.shopid,user_id:t.$store.state.user.userid}).then(function(e){1==e.data.code&&(t.trolleysTotal=0,t.trolleys=[],t.totalMoney=0),t.feedback.Toast({msg:e.data.info,timeout:1500,callback:function(){t.$router.go(-1)}})})}}]})}},mounted:function(){this.getCartLists()},components:{footerTrolley:i.a}}),n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"container"},[s("header",{staticClass:"header"},[s("span",{on:{click:t.handleAddGoods}},[s("i",{staticClass:"iconfont icon-iconjia"})]),t._v(" "),s("div",{staticClass:"text",on:{click:t.handleAddGoods}},[t._v("继续添加")]),t._v(" "),s("div",{staticClass:"del-btn",on:{click:t.handleClearTrolley}},[t._m(0),t._v("清空")])]),t._v(" "),s("main",{staticClass:"page-main"},t._l(t.trolleys,function(e,o){return s("section",{key:o,staticClass:"item-wapper"},[s("section",{staticClass:"cate-name"},[t._v(t._s(e.cate_name))]),t._v(" "),t._l(e.goods,function(e,i){return s("section",{key:i,staticClass:"item"},[s("img",{staticClass:"item-pic",attrs:{src:e.img_url}}),t._v(" "),s("div",{staticClass:"item-lside"},[s("h3",[t._v(t._s(e.title))]),t._v(" "),e.attr?s("p",[t._v(t._s(e.attr))]):t._e()]),t._v(" "),s("div",{staticClass:"item-center"},[s("span",[t._v("￥")]),t._v(t._s(e.price))]),t._v(" "),s("div",{staticClass:"item-rside"},[s("span",{staticClass:"icon-box reduce",on:{click:function(s){t.changeCartGoodsNum(e.id,e.attr_id,"cut",i,o)}}},[s("i",{staticClass:"iconfont icon-iconjian"})]),t._v(" "),s("span",{staticClass:"count-box"},[t._v(t._s(e.number))]),t._v(" "),s("span",{staticClass:"icon-box plus",on:{click:function(s){t.changeCartGoodsNum(e.id,e.attr_id,"add",i,o)}}},[s("i",{staticClass:"iconfont icon-iconjia"})])])])})],2)})),t._v(" "),s("footer-trolley",{attrs:{lable:"去结算",totalMoney:t.totalMoney,total:t.trolleysTotal},on:{handleClickBtn:t.handleGoSettlement}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"iconfont icon-shanchu"})])}]};var l=s("vSla")(a,n,!1,function(t){s("zHkZ")},"data-v-20365069",null);e.default=l.exports},zHkZ:function(t,e){}});
//# sourceMappingURL=14.9a8c6f4cf1089fda0f0d.js.map